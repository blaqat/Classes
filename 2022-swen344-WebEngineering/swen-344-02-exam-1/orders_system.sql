DROP TABLE IF EXISTS ORDERS;
DROP TABLE IF EXISTS CUSTOMERS;
DROP TABLE IF EXISTS AGENTS;

CREATE TABLE  AGENTS 
   (	
    AGENT_CODE CHAR(6) NOT NULL PRIMARY KEY, 
	AGENT_NAME VARCHAR(40), 
	WORKING_AREA CHAR(35), --City where the agent resides
	COMMISSION DECIMAL(10,2)  --Percentage: Applied to sales amount (ord_amount)
	 );

INSERT INTO AGENTS VALUES ('A007', 'Ramasundar', 'Bangalore', '0.15');
INSERT INTO AGENTS VALUES ('A003', 'Alex', 'London', '0.13');
INSERT INTO AGENTS VALUES ('A008', 'Alfred', 'New York', '0.12');
INSERT INTO AGENTS VALUES ('A012', 'Lucida', 'San Jose', '0.12');
INSERT INTO AGENTS VALUES ('A005', 'Anderson', 'Brisbane', '0.13');
INSERT INTO AGENTS VALUES ('A006', 'McDenny', 'London', '0.15');
INSERT INTO AGENTS VALUES ('A004', 'Ivan', 'Toronto', '0.15');
INSERT INTO AGENTS VALUES ('A009', 'Benjamin', 'Hampshire', '0.11');


CREATE TABLE  CUSTOMERS 
   (	
    CUST_CODE VARCHAR(6) NOT NULL PRIMARY KEY, 
	CUST_NAME VARCHAR(40) NOT NULL, 
	CUST_CITY VARCHAR(35), --The *city* where the customer resides
	CUST_COUNTRY VARCHAR(20) NOT NULL, --The *country* where the customer resides
	PHONE_NO VARCHAR(17) NOT NULL, 
	AGENT_CODE CHAR(6) NOT NULL REFERENCES AGENTS -- The *last* agent who helped them
);   

INSERT INTO CUSTOMERS VALUES ('C00013', 'Holmes', 'London', 'UK', '44-55-1111-1111', 'A003');
INSERT INTO CUSTOMERS VALUES ('C00001', 'Michael', 'New York', 'USA',  '212-111-1111', 'A008');
INSERT INTO CUSTOMERS VALUES ('C00020', 'Albert', 'New York', 'USA',  '716-111-1111', 'A008');
INSERT INTO CUSTOMERS VALUES ('C00024', 'Ramesh', 'London', 'UK', '44-11-2222-1111', 'A006');
INSERT INTO CUSTOMERS VALUES ('C00015', 'Stuart', 'London',  'UK', '44-11-2222-1221', 'A003');
INSERT INTO CUSTOMERS VALUES ('C00002', 'Boltar', 'New York',  'USA', '585-111-1111', 'A008');
INSERT INTO CUSTOMERS VALUES ('C00018', 'Fleming', 'Brisbane',  'Australia','61-555-1112-22', 'A005');
INSERT INTO CUSTOMERS VALUES ('C00021', 'Jackson', 'Brisbane',  'Australia','61-324-1512-22', 'A005');
INSERT INTO CUSTOMERS VALUES ('C00004', 'Winston', 'Adelaide',  'Australia', '61-919-8512-22', 'A005');
INSERT INTO CUSTOMERS VALUES ('C00023', 'Karl', 'London', 'UK', '44-55-2020-1191', 'A006');
INSERT INTO CUSTOMERS VALUES ('C00006', 'Shelton', 'Toronto',  'Canada', '414-111-1111', 'A004');
INSERT INTO CUSTOMERS VALUES ('C00010', 'Charles', 'Hampshire', 'UK','44-55-8221-2011', 'A009');
INSERT INTO CUSTOMERS VALUES ('C00017', 'Srinivas', 'Bangalore', 'India', '91-555-111-1111', 'A007');
INSERT INTO CUSTOMERS VALUES ('C00012', 'Steven', 'San Jose',  'USA', '408-111-1111', 'A012');
INSERT INTO CUSTOMERS VALUES ('C00008', 'Karolina', 'Toronto', 'Canada', '416-111-1111', 'A004');
INSERT INTO CUSTOMERS VALUES ('C00003', 'Martin', 'Toronto',  'Canada', '416-220-1111', 'A004');
INSERT INTO CUSTOMERS VALUES ('C00009', 'Ravi', 'Mumbai',  'India', '91-267-111-1111', 'A007');
INSERT INTO CUSTOMERS VALUES ('C00011', 'Herbert', 'Cricklewood',  'UK', '44-020-8450-8095', 'A007');


CREATE TABLE  ORDERS 
   (
    ORD_NUM DECIMAL(6,0) NOT NULL PRIMARY KEY, 
	ORD_AMOUNT DECIMAL(12,2) NOT NULL, --Amount paid.  The total amount of the order
	ADVANCE_AMOUNT DECIMAL(12,2) NOT NULL, --Pre-payment, if any.  Doesn't affect ord_amount
	ORD_DATE DATE NOT NULL, --Date of the order
	CUST_CODE VARCHAR(6) NOT NULL REFERENCES CUSTOMERS, 
	AGENT_CODE CHAR(6) NOT NULL REFERENCES AGENTS, --The agent who helped the customer for this order
	ORD_DESCRIPTION VARCHAR(60) NOT NULL
   );

INSERT INTO ORDERS VALUES('200100', '1000.00', '600.00', '08/01/2008', 'C00013', 'A003', 'Lysol cleaner');
INSERT INTO ORDERS VALUES('200110', '3000.00', '500.00', '04/15/2008', 'C00024', 'A005', 'Rolex');
INSERT INTO ORDERS VALUES('200107', '4500.00', '900.00', '08/30/2008', 'C00002', 'A005', 'Tiara');
INSERT INTO ORDERS VALUES('200112', '2000.00', '400.00', '05/30/2008', 'C00010', 'A007', 'Signed Game of Thrones'); 
INSERT INTO ORDERS VALUES('200113', '4000.00', '600.00', '06/10/2008', 'C00021', 'A012', 'Signed Audacity of Hope');
INSERT INTO ORDERS VALUES('200102', '2000.00', '300.00', '05/25/2008', 'C00012', 'A012', 'Wicker chair');
INSERT INTO ORDERS VALUES('200114', '3500.00', '2000.00', '08/15/2008', 'C00002', 'A008', 'Chlorox Wipes');
INSERT INTO ORDERS VALUES('200122', '2500.00', '400.00', '09/16/2008', 'C00003', 'A004', 'Hendrix');
INSERT INTO ORDERS VALUES('200118', '520.00', '110.00', '07/20/2008', 'C00023', 'A006', '10 Trump wigs');
INSERT INTO ORDERS VALUES('200119', '4000.00', '700.00', '09/16/2008', 'C00011', 'A012', 'Signed Game of Thrones');
INSERT INTO ORDERS VALUES('200121', '1500.00', '600.00', '09/23/2008', 'C00008', 'A004', 'Bon Jovi wig');
INSERT INTO ORDERS VALUES('200130', '2500.00', '400.00', '07/30/2008', 'C00024', 'A004', 'Signed Becoming');
INSERT INTO ORDERS VALUES('200134', '4200.00', '1800.00', '09/25/2008', 'C00004', 'A005', 'Avengers 1');
INSERT INTO ORDERS VALUES('200108', '4000.00', '600.00', '02/15/2008', 'C00008', 'A004', 'Signed Game of Thrones');
INSERT INTO ORDERS VALUES('200103', '1500.00', '700.00', '05/15/2008', 'C00021', 'A005', '2 Lysol cleaners');
INSERT INTO ORDERS VALUES('200105', '2500.00', '500.00', '07/18/2008', 'C00024', 'A004', 'Hendrix Guitar');
INSERT INTO ORDERS VALUES('200109', '3500.00', '800.00', '07/30/2008', 'C00017', 'A012', 'The Who vinyl');
INSERT INTO ORDERS VALUES('200101', '3000.00', '1000.00', '07/15/2008', 'C00001', 'A008', 'Rolex');
INSERT INTO ORDERS VALUES('200111', '1000.00', '300.00', '07/10/2008', 'C00020', 'A008', 'Keith Richards Beauty Tips');
INSERT INTO ORDERS VALUES('200104', '1500.00', '500.00', '03/13/2008', 'C00006', 'A004', 'Mick Jagger Beauty Tips');
INSERT INTO ORDERS VALUES('200106', '2500.00', '700.00', '04/20/2008', 'C00003', 'A012', 'Hendrix');
INSERT INTO ORDERS VALUES('200125', '2000.00', '600.00', '10/10/2008', 'C00018', 'A005', 'Journey of Heroes');
INSERT INTO ORDERS VALUES('200117', '800.00', '200.00', '10/20/2008', 'C00004', 'A008', 'Dark Knight VHS');
INSERT INTO ORDERS VALUES('200123', '500.00', '100.00', '09/16/2008', 'C00021', 'A012', 'ST TOS 1');
INSERT INTO ORDERS VALUES('200120', '500.00', '100.00', '07/20/2008', 'C00009', 'A012', 'ST TOS 1');
INSERT INTO ORDERS VALUES('200116', '500.00', '100.00', '07/13/2008', 'C00010', 'A009', 'SW Ep IV');
INSERT INTO ORDERS VALUES('200124', '500.00', '100.00', '06/20/2008', 'C00017', 'A007', 'SW Ep IV'); 
INSERT INTO ORDERS VALUES('200126', '500.00', '100.00', '06/24/2008', 'C00021', 'A012', 'ST TOS 1');
INSERT INTO ORDERS VALUES('200129', '2500.00', '500.00', '07/20/2008', 'C00024', 'A006', 'Hendrix Guitar');
INSERT INTO ORDERS VALUES('200127', '2500.00', '400.00', '07/20/2008', 'C00015', 'A003', 'Jimmy Paige Guitar');
INSERT INTO ORDERS VALUES('200128', '3500.00', '1500.00', '07/20/2008', 'C00009', 'A012', 'Keith Moon Drumset');
INSERT INTO ORDERS VALUES('200135', '2000.00', '800.00', '09/16/2008', 'C00002', 'A012', 'Roger Daltrey Mic');
INSERT INTO ORDERS VALUES('200131', '900.00', '150.00', '08/26/2008', 'C00012', 'A012', 'Townshend guitar fragments');
INSERT INTO ORDERS VALUES('200133', '1200.00', '400.00', '06/29/2008', 'C00009', 'A012', 'McCartney lefty guitar');

